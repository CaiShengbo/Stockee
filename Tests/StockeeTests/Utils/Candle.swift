//
//  Candle.swift
//  Stockee
//
//  Created by octree on 2022/3/14.
//
//  Copyright (c) 2022 Octree <fouljz@gmail.com>
//
//  Permission is hereby granted, free of charge, to any person obtaining a copy
//  of this software and associated documentation files (the "Software"), to deal
//  in the Software without restriction, including without limitation the rights
//  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
//  copies of the Software, and to permit persons to whom the Software is
//  furnished to do so, subject to the following conditions:
//
//  The above copyright notice and this permission notice shall be included in
//  all copies or substantial portions of the Software.
//
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
//  THE SOFTWARE.

import CoreGraphics
import Foundation
import Stockee

public struct Candle: Quote {
    public var date: Date = .init()
    public var low: CGFloat = 0
    public var high: CGFloat = 0
    public var open: CGFloat = 0
    public var close: CGFloat = 0
    public var volume: CGFloat = 0
}

public extension Array where Element == Candle {
    // start open high low close volume
    static var bnb1week: [Candle] {
        [
            [1_509_926_400_000, 1.5, 2.1997, 0.5, 1.49, 2_089_729.52],
            [1_510_531_200_000, 1.5, 1.7381, 1.49, 1.6, 1_610_933.24],
            [1_511_136_000_000, 1.6, 1.9588, 1.5388, 1.8388, 2_267_428.56],
            [1_511_740_800_000, 1.8388, 2.4, 1.55, 2.2617, 3_432_682.54],
            [1_512_345_600_000, 2.2617, 2.84, 2.1315, 2.4619, 3_416_357.72],
            [1_512_950_400_000, 2.4616, 6.7, 2.265, 5.999, 5_874_949.0],
            [1_513_555_200_000, 5.999, 6.463, 3.25, 5.181, 9_219_971.64],
            [1_514_160_000_000, 5.1899, 11.3, 5.029, 8.53, 14_345_936.5],
            [1_514_764_800_000, 8.5478, 23.6, 7.8, 18.594, 11_268_088.6],
            [1_515_369_600_000, 18.5375, 25.18, 13.66, 20.4541, 13_503_238.56],
            [1_515_974_400_000, 20.4546, 23.231, 9.4001, 14.1334, 37_832_511.6],
            [1_516_579_200_000, 14.1334, 14.4978, 11.6101, 13.7739, 12_742_978.45],
            [1_517_184_000_000, 13.7739, 13.87, 7.3, 8.3511, 13_684_581.06],
            [1_517_788_800_000, 8.4003, 10.4444, 5.5233, 8.674, 22_565_489.93],
            [1_518_393_600_000, 8.6739, 11.8461, 8.659, 10.6631, 16_513_922.52],
            [1_518_998_400_000, 10.6631, 11.2, 8.6, 9.35, 11_631_852.18],
            [1_519_603_200_000, 9.3677, 11.1743, 9.09, 10.4139, 8_416_565.11],
            [1_520_208_000_000, 10.4139, 10.4533, 7.06, 8.268, 13_040_349.06],
            [1_520_812_800_000, 8.2679, 11.0, 7.66, 8.9648, 31_143_427.41],
            [1_521_417_600_000, 8.9664, 14.9444, 8.45, 12.95, 37_630_285.01],
            [1_522_022_400_000, 12.95, 13.04, 9.6305, 11.0767, 28_453_876.61],
            [1_522_627_200_000, 11.0956, 13.9701, 10.9815, 12.1311, 28_559_138.03],
            [1_523_232_000_000, 12.1244, 13.88, 11.51, 13.0989, 27_459_883.36],
            [1_523_836_800_000, 13.0985, 13.74, 11.511, 12.8888, 20_152_480.05],
            [1_524_441_600_000, 12.8887, 15.9, 12.82, 15.0489, 28_142_647.28],
            [1_525_046_400_000, 15.0489, 15.15, 13.5, 14.012, 14_502_687.83],
            [1_525_651_200_000, 13.9993, 15.05, 12.1242, 13.1515, 12_065_969.91],
            [1_526_256_000_000, 13.1624, 16.276, 11.88, 14.1666, 17_048_820.11],
            [1_526_860_800_000, 14.1664, 14.85, 12.1, 12.6046, 12_302_978.62],
            [1_527_465_600_000, 12.596, 15.0254, 11.611, 14.6995, 13_348_170.83],
            [1_528_070_400_000, 14.666, 17.4767, 13.4, 14.18, 18_748_761.05],
            [1_528_675_200_000, 14.18, 17.2, 13.6712, 16.5987, 20_062_688.5],
            [1_529_280_000_000, 16.6105, 17.38, 13.3419, 14.4174, 19_811_039.26],
            [1_529_884_800_000, 14.4174, 15.1532, 13.734, 14.37, 12_756_710.53],
            [1_530_489_600_000, 14.3679, 14.81, 13.1402, 14.01, 11_179_750.75],
            [1_531_094_400_000, 14.0096, 14.0497, 11.802, 12.321, 7_857_420.06],
            [1_531_699_200_000, 12.321, 13.9, 11.8087, 12.1885, 11_468_149.95],
            [1_532_304_000_000, 12.1594, 14.8886, 11.6358, 13.9569, 12_439_101.37],
            [1_532_908_800_000, 13.9353, 14.47, 13.0, 13.64, 10_352_243.54],
            [1_533_513_600_000, 13.6407, 13.975, 11.3, 11.7999, 8_510_942.44],
            [1_534_118_400_000, 11.7999, 11.8899, 8.5318, 10.1388, 9_487_656.92],
            [1_534_723_200_000, 10.1304, 10.3, 9.1803, 10.2158, 4_934_237.25],
            [1_535_328_000_000, 10.2082, 11.57, 10.1023, 11.3684, 7_551_805.34],
            [1_535_932_800_000, 11.366, 11.5886, 9.1535, 9.5399, 5_023_996.26],
            [1_536_537_600_000, 9.4999, 10.242, 9.01, 9.9399, 5_898_684.29],
            [1_537_142_400_000, 9.9281, 10.6, 9.22, 10.2907, 7_009_277.8],
            [1_537_747_200_000, 10.3, 10.3599, 9.3612, 10.0172, 6_215_235.39],
            [1_538_352_000_000, 10.0172, 10.77, 9.85, 10.5852, 9_652_910.99],
            [1_538_956_800_000, 10.5852, 10.6929, 9.22, 9.5895, 7_408_976.5],
            [1_539_561_600_000, 9.5883, 11.0, 9.5106, 9.9311, 9_755_639.34]
        ].map {
            Candle(date: Date(timeIntervalSince1970: $0[0] / 1000),
                   low: $0[3],
                   high: $0[2],
                   open: $0[1],
                   close: $0[4],
                   volume: $0[5])
        }
    }
}
